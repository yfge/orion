---
id: 2025-09-20T08-05-00Z-commitlint-ci
date: 2025-09-20T08:05:00Z
participants: [human, orion-assistant]
models: [gpt-4o]
tags: [process, ci, commitlint]
related_paths:
  - commitlint.config.js
  - tools/commitlint-plugin-english/index.js
  - .pre-commit-config.yaml
  - .github/workflows/commitlint.yml
summary: "Add commitlint config + custom rule (English-only headers), pre-commit commit-msg hook, and GitHub Actions CI for Conventional Commits."
---

User original prompt and requirements
- 「commitlint 配置和 CI 检查,强制 Conventional Commits（英文）」

Background and goals
- Enforce English Conventional Commits via local hooks and CI to keep a clean, consistent history.

Changes
- Root `commitlint.config.js` extending conventional config and enabling a custom rule `header-english`.
- Custom plugin `tools/commitlint-plugin-english/index.js` that rejects non-ASCII headers (best-effort English guard).
- Pre-commit `commit-msg` hook invoking commitlint via npx.
- GitHub Actions workflow `.github/workflows/commitlint.yml` linting PR commit range and recent pushes to `main`.

Outcome and impact
- Contributors get immediate feedback at commit-time; CI enforces policy on PRs and main pushes.

Next steps (TODO)
- Optionally pin commitlint versions in a root package.json; currently installed via npx/CI ephemeral install.
