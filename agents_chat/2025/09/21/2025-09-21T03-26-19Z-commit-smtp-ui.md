---
id: 2025-09-21T03-26-19Z-commit-smtp-ui
date: 2025-09-21T03:26:19Z
participants: [human, orion-assistant]
models: [gpt-4o]
tags: [frontend, email, smtp, sendgrid, change-log]
related_paths:
  - frontend/lib/schemas.ts
  - frontend/app/apis/new/page.tsx
summary: "Commit frontend changes for SMTP/SendGrid schemas and SMTP endpoint creation UI"
---

User original prompt and requirements
- Prompt (CN): “提交更改” → 将刚完成的前端变更进行提交。
- 后续继续要求："继续添加gents chat"（应为 agents chat）→ 按 AGENTS.md 规范补充聊天日志。

Background and goals
- 本次提交包含针对邮件通道的前端增强：
  - 支持在 UI 中新建 SMTP 端点。
  - 新增 SendGrid 与 SMTP 的配置 Schema（RJSF 表单）。

Changes
- 文件：
  - frontend/lib/schemas.ts：新增 http.sendgrid、smtp.* 的配置 Schema；为 sendgrid/smtp 增加映射 Schema（from/to/subject/text/html）。
  - frontend/app/apis/new/page.tsx：
    - 传输类型新增 smtp，默认适配器 smtp.generic。
    - HTTP 适配器新增 http.sendgrid。
    - 仅 HTTP 时显示 URL 输入框；SMTP 使用 Schema 表单。

Outcome and impact
- 前端可以直接配置并创建 SMTP/SendGrid 类邮件端点，降低使用门槛，与后端 send-test/notify 已实现的能力对齐。

Next steps (TODO)
- 在端点编辑页复用 Schema 表单；为端点详情添加“发送测试”按钮对接 /endpoints/{id}/send-test。
- SendGrid 可进一步提供更贴近其 JSON 结构的引导/模板。

Linked commits/PRs
- ce079ed423e4d260a0dccc9d0bdb63e04967b325 — feat(frontend): add SMTP/SendGrid config schemas and enable SMTP endpoint creation in UI

